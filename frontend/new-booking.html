<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Booking - FixIt Tech Solutions</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
            <div class="nav-brand">
                <a href="/" style="text-decoration: none; color: inherit; font-size: 1.5rem; font-weight: 600;">ðŸ”§ FixIt Tech Solutions</a>
            </div>
            <div style="display: flex; align-items: center; gap: 2rem;">
                <div class="nav-links" id="navLinks">
                    <!-- Links will be dynamically set based on login status -->
                    <a href="/">Home</a>
                    <a href="/static/new-booking.html" class="active">Book Repair</a>
                    <a href="/static/track-ticket.html">Track Ticket</a>
                    <a href="/static/login.html">Login</a>
                </div>
                <div id="userInfo"></div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="card" style="max-width: 800px; margin: 2rem auto;">
            <div class="card-header">
                <h1 class="card-title">Create New Repair Booking</h1>
                <p class="card-description">Fill out the form below to book a repair for your device</p>
            </div>

            <!-- Success/Error Messages -->
            <div id="successMessage" class="alert alert-success hidden">
                <strong>Success!</strong> Your booking has been created. Ticket ID: <span id="ticketId"></span>
            </div>
            <div id="errorMessage" class="alert alert-error hidden">
                <strong>Error!</strong> <span id="errorText"></span>
            </div>

            <form id="bookingForm">
                <!-- Customer Information Section -->
                <h3 style="margin-bottom: 1rem; color: var(--primary-color); border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem;">
                    Customer Information
                </h3>

                <div class="form-group">
                    <label for="customerName" class="form-label required">Full Name</label>
                    <input 
                        type="text" 
                        id="customerName" 
                        name="customerName" 
                        class="form-input" 
                        placeholder="John Doe"
                        required
                        minlength="2"
                    >
                </div>

                <div class="form-group">
                    <label for="customerEmail" class="form-label required">Email Address</label>
                    <input 
                        type="email" 
                        id="customerEmail" 
                        name="customerEmail" 
                        class="form-input" 
                        placeholder="john.doe@example.com"
                        required
                    >
                    <div class="form-help">We'll send booking confirmation and updates to this email</div>
                </div>

                <div class="form-group">
                    <label for="customerPhone" class="form-label required">Phone Number</label>
                    <input 
                        type="tel" 
                        id="customerPhone" 
                        name="customerPhone" 
                        class="form-input" 
                        placeholder="555-123-4567"
                        required
                        minlength="10"
                    >
                    <div class="form-help">Minimum 10 characters</div>
                </div>

                <!-- Device Information Section -->
                <h3 style="margin: 2rem 0 1rem; color: var(--primary-color); border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem;">
                    Device Information
                </h3>

                <div class="form-group">
                    <label for="deviceType" class="form-label required">Device Type</label>
                    <select id="deviceType" name="deviceType" class="form-select" required>
                        <option value="">-- Select Device Type --</option>
                        <option value="phone">Phone</option>
                        <option value="laptop">Laptop</option>
                        <option value="tablet">Tablet</option>
                        <option value="desktop">Desktop</option>
                        <option value="watch">Smartwatch</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="deviceBrand" class="form-label required">Brand</label>
                        <input 
                            type="text" 
                            id="deviceBrand" 
                            name="deviceBrand" 
                            class="form-input" 
                            placeholder="Apple, Samsung, Dell, etc."
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="deviceModel" class="form-label required">Model</label>
                        <input 
                            type="text" 
                            id="deviceModel" 
                            name="deviceModel" 
                            class="form-input" 
                            placeholder="iPhone 14 Pro, XPS 15, etc."
                            required
                        >
                    </div>
                </div>

                <div class="form-group">
                    <label for="serialNumber" class="form-label">Serial Number (Optional)</label>
                    <input 
                        type="text" 
                        id="serialNumber" 
                        name="serialNumber" 
                        class="form-input" 
                        placeholder="XXXXX-XXXXX-XXXXX"
                    >
                </div>

                <div class="form-group">
                    <label for="issueDescription" class="form-label required">Issue Description</label>
                    <textarea 
                        id="issueDescription" 
                        name="issueDescription" 
                        class="form-textarea" 
                        placeholder="Please describe the problem in detail..."
                        required
                        minlength="10"
                    ></textarea>
                    <div class="form-help">Minimum 10 characters - be as detailed as possible</div>
                </div>

                <!-- Repair Details Section -->
                <h3 style="margin: 2rem 0 1rem; color: var(--primary-color); border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem;">
                    Repair Details
                </h3>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="priority" class="form-label required">Priority</label>
                        <select id="priority" name="priority" class="form-select" required>
                            <option value="normal">Normal</option>
                            <option value="high">High</option>
                            <option value="urgent">Urgent (+$50)</option>
                        </select>
                        <div class="form-help">Urgent repairs prioritized and completed faster</div>
                    </div>

                    <div class="form-group">
                        <label for="estimatedCost" class="form-label">Estimated Cost ($)</label>
                        <input 
                            type="number" 
                            id="estimatedCost" 
                            name="estimatedCost" 
                            class="form-input" 
                            placeholder="0.00"
                            min="0"
                            step="0.01"
                        >
                        <div class="form-help">Leave blank for diagnostic quote</div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="notes" class="form-label">Additional Notes</label>
                    <textarea 
                        id="notes" 
                        name="notes" 
                        class="form-textarea" 
                        placeholder="Any additional information..."
                        style="min-height: 80px;"
                    ></textarea>
                </div>

                <!-- Submit Button -->
                <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                    <button type="submit" class="btn btn-primary btn-lg" style="flex: 1;">
                        Submit Booking
                    </button>
                    <button type="reset" class="btn btn-outline" style="flex: 0.3;">
                        Reset Form
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 FixIt Tech Solutions. CS 623 Final Project.</p>
        </div>
    </footer>

    <!-- Footer -->
    <footer style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; text-align: center; padding: 1.5rem 0; margin-top: 3rem;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 1rem;">
            <p>&copy; 2025 FixIt Tech Solutions. CS 623 Final Project.</p>
            <p style="margin-top: 0.5rem; font-size: 0.875rem;">
                Created by <strong>Venkata Sai Krishna Aditya Vatturi</strong> | NetID: <strong>by4412</strong>
            </p>
        </div>
    </footer>

    <script src="/static/js/booking.js"></script>
</body>
</html>
